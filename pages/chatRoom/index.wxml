<import src="templates/selfMessages/message.wxml"></import>
<import src="templates/otherMessages/message.wxml"></import>

<view class="container">
    <view class="header title">
        <icon type="clear" class="left-icon"></icon>
        <text>{{ user.self }}</text>
        <icon type="info" class="right-icon"></icon>
    </view>
    <scroll-view scroll-y="true" class="chatHistory">
        <view wx:for="{{ messages.self }}" wx:for-index="idx" wx:key="*this" wx:for-item="item">
            <template is="selfMessage" data="{{ message:item, avatar: 'http://u.thsi.cn/fileupload/data/Flashcms/2017/368009872_0ba435101f2cbe1922ccf1a7c2574736.jpg' }}">
            </template>
        </view>

    </scroll-view>
     <view class="messageBar">
        <input type="text"
            placeholder="输入消息" 
            focus="true"
            confirm-type="send"
            bindinput="bindInput"
            value="{{ currentMessage }}"></input>
        <button type="primary"
            size="mini"
            bindtap="sendMsg">发送</button>
    </view>
    <view class="toolbar">
    </view>
</view>